<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="de" lang="de"><head>
    <title>Zero-One Farmrechner</title>
    <meta name="description" content="JS Calculator">
    <meta name="author" content="axi92">
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
    <script language="javascript"><!--
		var produkte = [ 
			['Kupfererz','Kupfer',2100,4,3],
			['Eisenerz','Eisen',4300,5,3],
			['Stein','Zement',2550,6,5],
			['Salz','Raffiniertes Salz',2000,3,1],
			['Trauben','Wein',2100,3,2],
			['Trauben','Moonshine',3200,3,2],
			['Sand','Glas',2350,3,1],
			['Öl','Rafiniertes Öl',3200,7,5],
			['Diamant','Geschliffener Diamant',5400,4,2],
			['Baumwolle','Kleidung',2900,4,2],
			['Helium','Helium',35000,100,100],
			['Cannabis','Marijuana',4800,4,3],
			['Heroin','Reines Heroin',4800,6,4],
			['Schildkröte','Schildkröte',15000,6,6],
			['Kokain','Reines Kokain',7500,6,4],
			['Tunfisch','Tunfisch',9500,6,6],
			['Dunkle Materie','Dunkle Materie',58000,100,100],
			['Brief','Brief',700,3,3],
			['Paket','Paket',8800,25,25]
			];
		var vehicle = [
			['Limousine',24000,16000,65],
			['Geländewagen',36000,24000,135],
			['Truck',97500,65000,200],
			['SUV',135000,90000,100],
			['Truck Boxer',127500,85000,260],
			['Tanklaster',127500,85000,260],
			['Limousine (Sport)',180000,120000,65],
			['Zamak-Transporter',270000,180000,400],
			['Zamak-Transporter (abgedeckt)',360000,240000,550],
			['Zamak Tanken',360000,240000,550],
			['Tempest Transporter',750000,500000,700],
			['Tempest Tanken',750000,500000,700],
			['Hemtt-Transporter',1290000,860000,900],
			['Hemtt-Transporter (abgedeckt)',1650000,1100000,1100],
			['Hemtt Treibstoff',1650000,1100000,1100],
			['Hemtt Transport',3000000,2000000,1300],
			['Tempest-Transporter (abgedeckt)',6000000,4000000,2600],
			['Tempest Gerät',6900000,4600000,3300],
			['Mh-9 Hummingbird',795000,506000,25],
			['PO-30 Orca (Schwarz)',2850000,1900000,220],
			['Ch-49 Mohawk',5175000,3450000,330],
			['Ch-67 Huron (Schwarz)',9675000,6450000,420],
			['A-143 Buzzard (Flugabwehr)',6000000,4000000,2000],
			['A-164 Wipeout (Luftunterstützung)',9000000,6000000,3000],
			['To-199 Neophron (Luftunterstützung)',12000000,8000000,4000]
			];
		function splitter(number) {
			number = '' + number;
			if (number.length > 3) {
				var mod = number.length % 3;
				var output = (mod > 0 ? (number.substring(0,mod)) : '');
				for (i=0 ; i < Math.floor(number.length / 3); i++) {
					if ((mod == 0) && (i == 0))
					output += number.substring(mod+ 3 * i, mod + 3 * i + 3);
					else
					output+= '.' + number.substring(mod + 3 * i, mod + 3 * i + 3);
				}
				return (output);
			}
			else return number;
		}
		window.onload = function() {
			dropdown = '';
			dropdown_vehicle = '';
			table1 = '';
			table2 = '';
			for (var i = 0; i < produkte.length; i++)
			{
				console.log(produkte[i][0] + '-' + i);
				dropdown = dropdown + '<option id="product' + i + '" value="' + i + '">' + produkte[i][0] + ' -> ' + produkte[i][1] + '</option>' + '\n'
				table2 = table2 + '<tr><td>' + produkte[i][0] + ' (' + produkte[i][3] + ')</td><td>' + produkte[i][1] + ' (' + produkte[i][4] + ')</td><td>' +  '</td><td>' + splitter(produkte[i][2]) + '</td></tr>'
			}
			for (var i = 0; i < vehicle.length; i++)
			{
				table1 = table1 + '<tr><td>' + vehicle[i][0] + '</td><td>' + vehicle[i][3] + '</td><td>' + splitter(vehicle[i][1]) + '</td><td>' + splitter(vehicle[i][2]) + '</td></tr>'
				dropdown_vehicle = dropdown_vehicle + '<option id="vehicle' + i + '" value="' + i + '">' + vehicle[i][0] + '</option>' + '\n'
			}
			document.getElementById('dropdownliste').innerHTML = dropdown;
			document.getElementById('dropdownliste_vehicle').innerHTML = dropdown_vehicle;
			document.getElementById('table1_content').innerHTML = table1;
			document.getElementById('table2_content').innerHTML = table2;
			rechner();
		};
		function rechner() {
			//if(document.gewinnrechner.menge1.value == '') {document.gewinnrechner.menge1.value = 0}
			if(document.gewinnrechner.menge2.value == '') {document.gewinnrechner.menge2.value = 0}
            var backpack   			= parseInt(document.gewinnrechner.menge2.value);
			var produktpreis		= produkte[document.gewinnrechner.dropdownliste.value][2];
			var product_weight		= produkte[document.gewinnrechner.dropdownliste.value][3];
			var vehicle_capacity	= vehicle[document.gewinnrechner.dropdownliste_vehicle.value][3];
			var menge				= parseInt(backpack) + parseInt(vehicle_capacity);
			var fit_in				= parseInt(menge/product_weight);
			//alert(backpack + " - " + produktpreis + " - " + vehicle_capacity + " - " + menge + " - Fit int: " + fit_in + " Gerundet: " + parseInt(fit_in));
			
            var zinsen				= document.gewinnrechner.zinsen.value;
			
            var ergebnis = fit_in*produktpreis;
			//alert (menge + " - " + produkte[produktpreis][2]);
            var abgabe       = (ergebnis/100)*zinsen;
            document.getElementById('ausgabe').innerHTML = ("Du erhältst für " + menge + " Einheiten " + ergebnis + " an Ertrag!");
            document.getElementById('sold').innerHTML = ("Sold zu zahlen: " + abgabe + " dein Gewinn dadurch: " + (ergebnis-abgabe));
		}
	</script>
</head>
<body>
	<h1>Produkte</h1>
	<form name="gewinnrechner"> <br>
		Ladegut:
		<select id="dropdownliste" name="liste" onchange="rechner()">
			<option id="product1" value="1">Produkte</option>
		</select>
		<br>
		<!-- <input name="menge1" value="0" size="5" maxlength="5" type="text" onkeyup="rechner()"> Einheiten Fahrzeug<br> -->
		Fahrzeug:
		<select id="dropdownliste_vehicle" name="liste_vehicle" onchange="rechner()">
			<option id="vehicle1" value="1">Fahrzeuge</option>
		</select>
		<br>		
		<input name="menge2" value="0" size="5" maxlength="5" type="text" onkeyup="rechner()"> Einheiten Rucksack<br>
		<input name="zinsen" size="20" maxlength="50" type="text" onkeyup="rechner()">% an Abgaben für Söldner<br>
		<span id="ausgabe" style="text-align: center;border-style:solid;border-width:0px;"></span><br>
		<span id="sold" style="text-align: center;border-style:solid;border-width:0px;"></span><br>
		<span style="text-align: center;border-style:solid;border-width:0px;">Copyright © by axi92</span><br>
	</form>
	<div>
		<table id="rounded-corner" summary="Vehicle List"  style="float:left;">
			<thead>
				<tr>
					<th scope="col" class="rounded-company">Fahrzeug</th>
					<th scope="col" class="rounded-q1">Ladeeinheiten</th>
					<th scope="col" class="rounded-q2">Kaufpreis</th>
					<th scope="col" class="rounded-q3">Mietpreis</th>
				</tr>
			</thead>
				<tfoot>
				<tr>
					<td colspan="3" class="rounded-foot-left"><em>Sollten die Daten Fehlerhaft sein bitte im Forum axi92 informieren!</em></td>
					<td class="rounded-foot-right">&nbsp;</td>
				</tr>
			</tfoot>
			<tbody id='table1_content'>
				<tr>
					<td>Fahrzeug1</td>
					<td>0.0</td>
					<td>0.0</td>
					<td>0.0</td>
				</tr>
			</tbody>
		</table>
	</div>
	
	<div>
		<table id="rounded-corner" summary="Produkte"  style="float:left;">
			<thead>
				<tr>
					<th scope="col" class="rounded-company">Rohstoff (Gewicht)</th>
					<th scope="col" class="rounded-q1">Endprodukt (Gewicht)</th>
					<th scope="col" colspan="2" class="rounded-q2">Verkaufspreis</th>
				</tr>
			</thead>
				<tfoot>
				<tr>
					<td colspan="3" class="rounded-foot-left"><em>Sollten die Daten Fehlerhaft sein bitte im Forum axi92 informieren!</em></td>
					<td class="rounded-foot-right">&nbsp;</td>
				</tr>
			</tfoot>
			<tbody id='table2_content'>
				<tr>
					<td>Produkt1</td>
					<td>0.0</td>
					<td>0.0</td>
				</tr>
			</tbody>
		</table>
	</div>

	<style>
		body {
		  background: #f5f5f5;
		  margin: 0px;
		  padding: 0px 0px 0px 0px;
		  border: 0px;
		  color: #5d5d5d;
		  font-family: Verdana, "sans serif";
		  font-size: 11px;
		  line-height: 14px;
		  text-align:center;
		}
		
		
		#rounded-corner
		{
			font-family: "Lucida Sans Unicode", "Lucida Grande", Sans-Serif;
			font-size: 12px;
			margin: 45px;
			width: 480px;
			text-align: left;
			border-collapse: collapse;
		}
		#rounded-corner th
		{
			padding: 8px;
			font-weight: normal;
			font-size: 13px;
			color: #039;
			background: #b9c9fe;
		}
		#rounded-corner td
		{
			padding: 8px;
			background: #e8edff;
			border-top: 1px solid #fff;
			color: #669;
		}
		#rounded-corner tbody tr:hover td
		{
			background: #d0dafd;
		}
	</style>
</body></html>